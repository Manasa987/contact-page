<!DOCTYPE html>
<html>
<head>
    <script>
        function addRow() {
          var myName = document.getElementById("name");
          var depo = document.getElementById("deposit");
          var table = document.getElementById("myTableData");
          var total =[];
          var totalBalance=0;
          var withdrawals =[];
          var userWithdraw = document.getElementById("userWithdraw");
          var btnWithdraw = document.getElementById("btnWithdraw");

          if(depo.value !=''){
              total.push(Number(depo.value));
              totalBalance += parseInt(depo.value);
          }
          const formatter = new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'INR',
    minimumFractionDigits: 5,
  });
          btnWithdraw.addEventListener('click', () => {
if (isNaN(userWithdraw.value)) {
    alert("Please enter a number.");
    return userWithdraw.value = '';
} else {
    if (userWithdraw.value > totalBalance - 10) {
        return userWithdraw.value = '';
    } else {
        withdrawals.push(Number(userWithdraw.value));
        totalBalance -= (Number(userWithdraw.value));
        var totalBalanceFormatted = formatter.format(totalBalance);
        document.getElementById("total").innerHTML = totalBalanceFormatted;
    console.log("$" + userWithdraw.value);
    return userWithdraw.value = '';
    }
}
});
          var rowCount = table.rows.length;
          var row = table.insertRow(rowCount);

          row.insertCell(0).innerHTML= myName.value;
          row.insertCell(1).innerHTML= depo.value;
          
          totalSumCalc();
       
      }
      function addTable() {
            
          var myTableDiv = document.getElementById("myDynamicTable");
            
          var table = document.createElement('TABLE');
          table.border='1';
          
          var tableBody = document.createElement('TBODY');
          table.appendChild(tableBody);
            
          for (var i=0; i<3; i++){
             var tr = document.createElement('TR');
             tableBody.appendChild(tr);
             
             for (var j=0; j<4; j++){
                 var td = document.createElement('TD');
                 td.width='75';
                 td.appendChild(document.createTextNode("Cell " + i + "," + j));
                 tr.appendChild(td);
             }
          }
          myTableDiv.appendChild(table);
          
      }
    </script>
</head>
<style>
    body {
  color: #484848;
  font-family: 'Lato', sans-serif;
  padding: 1em;
  line-height: 1.5;
}

.flex {
  background: #fdfdfd;
  display: flex;
  flex-wrap:wrap;
  justify-content: center;
  align-items:center;
  margin: 0 auto;
  border-radius:5px;
}
.element-center {
  display: flex;
  flex-direction:column;
  justify-content: center;
}
#add,#btnWithdraw{
    background-color: blue;
    color: white;
}
</style>
<body>
<div class="flex">
    <div class="element-center">
<div id="myform">
<table>
    <tr>
        <td>Name:</td>
        <td><input type="text" id="name"></td>
    </tr>
    <tr>
        <td>Deposit:</td>
        <td><input type="text" id="deposit">
        <input type="button" id="add" value="Add" onclick="Javascript:addRow()"></td>
    </tr>
    
</table><br>
<span id="total">Total:</span><br><br>
</div>
<div id="mydata">

<table id="myTableData"  border="1" style="border-collapse:collapse" cellpadding="2">
    <tr>
        <td><b>Name</b></td>
        <td><b>Current Balance</b></td>
    </tr>
</table>
<h2>
    Withdraw
</h2>
<input type="text" id="userWithdraw" required>
<button id="btnWithdraw">Withdraw</button>
 
</div>
</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    function totalSumCalc(){
        var totalSum=0;
        $("#myTableData tr:not(:first-child)").each(function () {
            totalSum += parseInt($(this).find("td:last-child").text());
        });
        $('#total').text('Total: '+totalSum);
    }
</script>
</body>
</html>